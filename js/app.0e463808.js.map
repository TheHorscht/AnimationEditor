{"version":3,"file":"js/app.0e463808.js","mappings":"2GAAO,MAAMA,EAAQA,CAACC,EAAOC,EAAKC,IAAQC,KAAKF,IAAIE,KAAKD,IAAIF,EAAOC,GAAMC,GAC5DE,EAAkB,CAC7BC,KAAM,CAAEC,YAAa,SAAUC,KAAMC,GAAKA,GAC1CC,OAAQ,CAAEH,YAAa,SAAUC,KAAMC,GAAKA,EAAIA,GAChDE,QAAS,CAAEJ,YAAa,UAAWC,KAAMC,GAAK,GAAK,EAAIA,IAAM,EAAIA,IACjEG,UAAW,CAAEL,YAAa,YAAaC,KAAMC,GAAKA,EAAI,GAAM,EAAIA,EAAIA,EAAI,EAAIL,KAAKS,KAAK,EAAIJ,EAAI,EAAG,GAAK,ICLjG,MAAMK,EACXC,YAAYN,EAAGR,EAAOe,GACpBC,KAAKR,EAAIA,EACTQ,KAAKhB,MAAQA,GAAS,EACtBgB,KAAKD,eAAiBA,GAAkB,WAC1C,E,wRC2BIE,GAAQC,EAAAA,EAAAA,IAAI,GACZC,GAAiBD,EAAAA,EAAAA,IAAI,MAC3B,IAAIE,GAAWF,EAAAA,EAAAA,MACf,MAAMG,GAAUC,EAAAA,EAAAA,IAAS,EACvBA,EAAAA,EAAAA,IAAS,IAAIT,EAAO,EAAKU,EAAMC,gBAC/BF,EAAAA,EAAAA,IAAS,IAAIT,EAAO,GAAKU,EAAMC,gBAC/BF,EAAAA,EAAAA,IAAS,IAAIT,EAAO,EAAKU,EAAMC,iBAGjC,SAASC,EAAKC,GACZ,IAAIN,EAASpB,MAAO,OAAO,EAC3B,MAAM2B,EAAOP,EAASpB,MAAM4B,wBACtBC,EAAI9B,EAAM2B,EAAQC,EAAKG,KAAOP,EAAMQ,YAAY,EAAGJ,EAAKK,MAAQT,EAAMQ,YAAY,GAAKJ,EAAKG,KAClG,OAAQD,EAAIN,EAAMQ,YAAY,IAAMJ,EAAKV,MAAQM,EAAMQ,YACzD,CAEA,SAASE,EAAUC,GACjB,GAAId,EAASpB,OACVmB,EAAenB,MAAO,CACvB,MAAM2B,EAAOP,EAASpB,MAAM4B,wBACtBC,EAAI9B,EAAMmC,EAAGC,QAASR,EAAKG,KAAOP,EAAMQ,YAAY,EAAGJ,EAAKK,MAAQT,EAAMQ,YAAY,GAAKJ,EAAKG,KACtGX,EAAenB,MAAMQ,GAAKqB,EAAIN,EAAMQ,YAAY,IAAMJ,EAAKV,MAAQM,EAAMQ,aAEzEV,EAAQe,MAAK,CAACC,EAAGC,IAAMD,EAAE7B,EAAI8B,EAAE9B,IAC/B+B,EAAK,SAAUlB,EACjB,CACF,CAEA,SAASmB,IACPrB,EAAenB,MAAQ,IACzB,CAEA,SAASyC,EAAUjC,EAAGR,GACpB,MAAM0C,EAAY,IAAI7B,EAAOL,EAAGR,GAChCqB,EAAQsB,KAAKD,GACbrB,EAAQe,MAAK,CAACC,EAAGC,IAAMD,EAAE7B,EAAI8B,EAAE9B,IAC/B+B,EAAK,iBAAkBG,GACvBH,EAAK,SAAUlB,EACjB,CAEA,SAASuB,EAAcV,GACrBO,EAAUhB,EAAKS,EAAGC,SAAUZ,EAAMC,aACpC,CAgBA,SAASqB,EAAgBC,GAEvB3B,EAAenB,MAAQ8C,EACvBP,EAAK,iBAAkBO,EACzB,CACA,SAASC,EAAaD,GACpBzB,EAAQ2B,OAAO3B,EAAQ4B,QAAQH,GAAS,GACxCP,EAAK,UAAWlB,EAClB,C,OAtBA6B,EAAa,CAAE7B,UAASoB,eAExBU,EAAAA,EAAAA,KAAU,KACR,SAASC,IACP,IAAIhC,EAASpB,MAAO,OACpB,MAAM2B,EAAOP,EAASpB,MAAM4B,wBAC5BX,EAAMjB,MAAQ2B,EAAKV,KACrB,CACAmC,IACAC,OAAOC,iBAAiB,YAAarB,GACrCoB,OAAOC,iBAAiB,UAAWd,GACnCa,OAAOC,iBAAiB,SAAUF,EAAY,I,ylBCjFhD,MAAMG,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,Q,kSCSMC,EAAaC,OAAOC,OAAO,CAC/B5B,KAAM,EACN6B,IAAK,EACL3B,MAAO,EACP4B,OAAQ,EACRC,WAAY,EACZC,WAAY,EACZC,OAAQ,IAYJC,GAAQC,EAAAA,EAAAA,KAAS,KAAM,CAC3BC,SAAU,WACVpC,KAAO,GAAEP,EAAMM,MACf+B,OAAS,GAAErC,EAAM4C,MACjBlD,MAAUM,EAAMN,MAAQM,EAAM6C,OAAtB,KACRC,OAAW9C,EAAM8C,OAAS9C,EAAM+C,OAAvB,KACTC,UAAY,UAAShD,EAAMiD,mBAGvBC,EAAS,CAAE5C,EAAG,KAAMsC,EAAG,MACvBO,EAAW,CAAE7C,EAAG,EAAGsC,EAAG,GACtBQ,EAAa,CAAE9C,EAAG,EAAGsC,EAAG,GACxBS,GAAM1D,EAAAA,EAAAA,IAAI,MAChB,IAAI2D,EAAoB,KAExB,SAASC,EAAU5C,EAAI6C,GACrBF,EAAoBE,EACpBL,EAAS7C,EAAIK,EAAGC,QAChBuC,EAASP,EAAIjC,EAAG8C,QAChBL,EAAW9C,EAAIN,EAAMM,EACrB8C,EAAWR,EAAI5C,EAAM4C,EACrBQ,EAAWH,SAAWjD,EAAMiD,SAC5B,MAAMS,EAAS,CACb,CAACzB,EAAW1B,MAAO,CAAEoD,KAAM,SAAUlF,MAAOuB,EAAM6C,QAClD,CAACZ,EAAWG,KAAM,CAAEuB,KAAM,SAAUlF,MAAOuB,EAAM+C,QACjD,CAACd,EAAWxB,OAAQ,CAAEkD,KAAM,SAAUlF,MAAOuB,EAAM6C,QACnD,CAACZ,EAAWI,QAAS,CAAEsB,KAAM,SAAUlF,MAAOuB,EAAM+C,QACpD,CAACd,EAAWK,YAAa,CAAEqB,KAAM,IAAKlF,MAAOuB,EAAMM,GACnD,CAAC2B,EAAWM,YAAa,CAAEoB,KAAM,IAAKlF,MAAOuB,EAAM4C,GACnD,CAACX,EAAWO,QAAS,CAAEmB,KAAM,WAAYlF,MAAOuB,EAAMiD,WAExDjC,EAAK,SAAU0C,EAAOF,GACxB,CAGA,MAAMI,EAAa,CACjB,CAAC3B,EAAW1B,MAAO,CAACD,EAAGsC,EAAGiB,IAAW7C,EAAK,SAAU,CAAE2C,KAAM,SAAUlF,OAAQoF,EAAOvD,EAAIA,GAAKN,EAAMN,MAAQ,IAC5G,CAACuC,EAAWG,KAAM,CAAC9B,EAAGsC,EAAGiB,EAAQxB,IAAWrB,EAAK,SAAU,CAAE2C,KAAM,SAAUlF,OAAQ4D,EAASO,GAAK5C,EAAM8C,SACzG,CAACb,EAAWxB,OAAQ,CAACH,EAAGsC,EAAGiB,IAAW7C,EAAK,SAAU,CAAE2C,KAAM,SAAUlF,OAAQ6B,EAAIuD,EAAOvD,GAAKN,EAAMN,MAAQ,KAGzGoE,EAAiB,CACrB,CAAC7B,EAAWK,YAAa,CAAChC,EAAGsC,EAAGiB,IAAW7C,EAAK,SAAU,CAAE2C,KAAM,IAAKlF,MAAO2E,EAAW9C,GAAKA,EAAI6C,EAAS7C,KAC3G,CAAC2B,EAAWM,YAAa,CAACjC,EAAGsC,EAAGiB,IAAW7C,EAAK,SAAU,CAAE2C,KAAM,IAAKlF,MAAO2E,EAAWR,GAAKO,EAASP,EAAIA,MAE7G,SAASlC,EAAUC,GACjB,GAAGiD,EAAWN,GAAoB,CAEhC,MAAMlD,EAAOiD,EAAI5E,MAAM4B,wBACjBwD,EAAS,CACbvD,EAAGF,EAAKG,MAAQH,EAAKK,MAAQL,EAAKG,MAAQ,EAC1CqC,EAAGxC,EAAKgC,KAAOhC,EAAKiC,OAASjC,EAAKgC,KAAO,GAE3CwB,EAAWN,GAAmB3C,EAAGC,QAASD,EAAG8C,QAASI,EAAQzD,EAAKiC,OACrE,MAAUyB,EAAeR,GAEvBQ,EAAeR,GAAmB3C,EAAGC,QAASD,EAAG8C,QAASP,GAClDI,GAAqBrB,EAAWO,QACxCxB,EAAK,SAAU,CAAE2C,KAAM,WAAYlF,MAAO2E,EAAWH,UAAYtC,EAAGC,QAAUuC,EAAS7C,IAE3F,CAEA,SAASW,EAAQN,GACf2C,EAAoB,IACtB,C,OAEA1B,EAAAA,EAAAA,KAAU,KACRE,OAAOC,iBAAiB,YAAarB,GACrCoB,OAAOC,iBAAiB,UAAWd,GACnC,MAAMb,EAAOiD,EAAI5E,MAAM4B,wBACvB6C,EAAO5C,EAAIF,EAAKG,MAAQH,EAAKK,MAAQL,EAAKG,MAAQ,EAClD2C,EAAON,EAAIxC,EAAKgC,KAAOhC,EAAKiC,OAASjC,EAAKgC,KAAO,CAAC,I,qkCCtGpD,MAAM,EAAc,EAEpB,Q,0KCUM2B,GAAYpE,EAAAA,EAAAA,IAAI,MAChBD,GAAQC,EAAAA,EAAAA,IAAI,GAElB,IAAIqE,GAAmB,EACvB,SAASC,EAAUtD,GACjBqD,GAAmB,CACrB,CAEA,SAAStD,EAAUC,GACjB,GAAGqD,EAAkB,CACnB,MAAM5D,EAAO2D,EAAUtF,MAAM4B,wBAEvBC,EAAI9B,EAAMmC,EAAGC,QAASR,EAAKG,KAAOP,EAAMQ,YAAY,EAAGJ,EAAKK,MAAQT,EAAMQ,YAAY,GAAKJ,EAAKG,KACtGS,EAAK,SAAU,CAAE/B,GAAIqB,EAAIN,EAAMQ,YAAY,IAAMJ,EAAKV,MAAQM,EAAMQ,cAEtE,CACF,CAEA,SAASS,EAAQN,GACfqD,GAAmB,CACrB,C,OAEApC,EAAAA,EAAAA,KAAU,KACRE,OAAOC,iBAAiB,YAAarB,GACrCoB,OAAOC,iBAAiB,UAAWd,GACnCvB,EAAMjB,MAAQsF,EAAUtF,MAAM4B,wBAAwBX,KAAK,I,8PCpC7D,MAAM,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,QCRO,MAAMwE,EAAWC,IACtBC,aAAaC,QAAQ,OAAQC,KAAKC,UAAUJ,GAAM,EAEvCK,EAAWA,IACfF,KAAKG,MAAML,aAAaM,QAAQ,S,wlBC8DnCC,EAAW,E,6BAHjB,MAAMC,GAAsBjF,EAAAA,EAAAA,IAAI,CAAE,IAAK,IAAK,SAAU,SAAU,aAC1DkF,GAAgBlF,EAAAA,EAAAA,IAAI,CAAEW,EAAG,EAAGsC,EAAG,EAAGC,OAAQ,EAAGE,OAAQ,EAAGE,SAAU,IAClE6B,GAAYnF,EAAAA,EAAAA,IAAI,CAAC,GAEjBoF,GAAiBpF,EAAAA,EAAAA,IAAI,MACrBqF,GAAerF,EAAAA,EAAAA,IAAI,MACnBsF,GAAUtF,EAAAA,EAAAA,KAAI,GACduF,GAAcvF,EAAAA,EAAAA,IAAI,GAClBwF,GAASzC,EAAAA,EAAAA,KAAS,KACtB,MAAMyC,EAAS,CACb7E,EAAG,EACHsC,EAAG,EACHC,OAAQ,EACRE,OAAQ,EACRE,SAAU,GAEZ,IAAI,MAAMU,KAAQiB,EAAoBnG,MAAO,CAC3C,MAAMoB,EAAWiF,EAAUrG,MAAMkF,GACjC,IAAI9D,EACF,OAAOsF,EAET,IAAIC,EAAUvF,EAASC,QAAQ,GAC3BuF,EAAUxF,EAASC,QAAQ,GAC/B,IAAI,IAAIwF,EAAI,EAAGA,EAAIzF,EAASC,QAAQyF,OAAO,EAAGD,IAAK,CACjD,MAAME,EAAa3F,EAASC,QAAQwF,GACpC,GAAGE,EAAWvG,EAAIiG,EAAYzG,MAC5B,MAEF2G,EAAUI,EACVH,EAAUxF,EAASC,QAAQwF,EAAE,EAC/B,CACA,MAAMrG,EAAIT,GAAO0G,EAAYzG,MAAQ2G,EAAQnG,IAAMoG,EAAQpG,EAAImG,EAAQnG,GAAI,EAAG,GAC9EkG,EAAOxB,GAAQ8B,EAAKL,EAAQ3G,MAAO4G,EAAQ5G,MAAOI,EAAgBwG,EAAQ7F,gBAAgBR,KAAKC,GACjG,CACA,OAAOkG,CAAM,IAEf,IAAIO,GAAgB/F,EAAAA,EAAAA,IAAI,MACxB,MAAMgG,GAAkBjD,EAAAA,EAAAA,IAAS,CAC/BkD,IAAKA,IAAMb,EAAetG,MAAMQ,EAAE4G,QAAQ,GAC1CC,IAAKrH,GAASsG,EAAetG,MAAMQ,EAAIR,IAEnCsH,GAAsBrD,EAAAA,EAAAA,IAAS,CACnCkD,IAAKA,IAAMb,EAAetG,MAAMA,MAAMoH,QAAQ,GAC9CC,IAAKrH,GAASsG,EAAetG,MAAMA,MAAQA,IAE7C,IAAIuH,EAAWC,KAAKC,MAChBC,EAAiB,KAErB,SAASV,EAAKW,EAAOC,EAAKpH,GACxB,OAAOmH,GAAS,EAAInH,GAAKoH,EAAMpH,CACjC,CAEA,SAASqH,IACP,MAAMC,GAAMN,KAAKC,MAAQF,GAAY,IAErC,GADAd,EAAYzG,OAAS8H,EAAK5B,EACvBO,EAAYzG,OAAS,EAGtB,OAFAyG,EAAYzG,MAAQ,OACpB+H,IAGFR,EAAWC,KAAKC,MAChBC,EAAiBM,sBAAsBH,EACzC,CAEA,SAASI,IACPzB,EAAQxG,OAAQ,EAChBuH,EAAWC,KAAKC,MAChBI,GACF,CAEA,SAASK,IACP1B,EAAQxG,OAAQ,EAChBmI,qBAAqBT,EACvB,CAEA,SAASK,IACPG,IACAzB,EAAYzG,MAAQ,CACtB,CAEA,SAASoI,IAEP,MAAMC,EAAM,CAAC,EACblC,EAAoBnG,MAAMsI,SAAQpD,IAChCmD,EAAInD,GAAQmB,EAAUrG,MAAMkF,GAAM7D,QAClCkH,QAAQC,IAAIH,EAAInD,GAAM,IAExBO,EAAS4C,EACX,CAEA,SAASI,IACP,MAAM/C,EAAOK,IACb,IAAI,MAAMb,KAAQQ,EAEhBW,EAAUrG,MAAMkF,GAAM7D,QAAQyF,OAAS,EACvCpB,EAAKR,GAAMoD,SAAQxF,IACjBuD,EAAUrG,MAAMkF,GAAM7D,QAAQsB,MAAKrB,EAAAA,EAAAA,IAAS,IAAIT,EAAOiC,EAAOtC,EAAGsC,EAAO9C,MAAO8C,EAAO/B,iBAAiB,GAG7G,CAEA,SAAS2H,IACP,MAAMC,EAAaA,CAACzD,EAAM1E,KACxB,MAAMY,EAAWiF,EAAUrG,MAAMkF,GACjC,IAAIyB,EAAUvF,EAASC,QAAQ,GAC3BuF,EAAUxF,EAASC,QAAQ,GAC/B,IAAI,IAAIwF,EAAI,EAAGA,EAAIzF,EAASC,QAAQyF,OAAO,EAAGD,IAAK,CACjD,MAAME,EAAa3F,EAASC,QAAQwF,GACpC,GAAGE,EAAWvG,EAAIA,EAChB,MAEFmG,EAAUI,EACVH,EAAUxF,EAASC,QAAQwF,EAAE,EAC/B,CACA,MAAM+B,EAAK7I,GAAOS,EAAImG,EAAQnG,IAAMoG,EAAQpG,EAAImG,EAAQnG,GAAI,EAAG,GAC/D,OAAOwG,EAAKL,EAAQ3G,MAAO4G,EAAQ5G,MAAOI,EAAgBwG,EAAQ7F,gBAAgBR,KAAKqI,GAAI,EAE7F,IAAIP,EAAM,CAAC,EACXlC,EAAoBnG,MAAMsI,SAAQpD,IAChCmD,EAAInD,GAAQ,GACZ,IAAI,IAAI2B,EAAI,EAAGA,EAAI,EAAGA,GAAK,EAAI,IAC7BwB,EAAInD,GAAMvC,KAAKgG,EAAWzD,EAAM2B,GAAGO,QAAQ,IAE7CmB,QAAQC,IAAK,aAAYtD,SAAYmD,EAAInD,GAAM2D,KAAK,UAAU,GAElE,CAsBA,SAASC,EAAehG,GACtBwD,EAAetG,MAAQ8C,EACvB2D,EAAYzG,MAAQ8C,EAAOtC,CAC7B,CAEA,SAASuI,EAAc1H,GACrBoF,EAAYzG,MAAQsG,EAAetG,MAAMQ,CAC3C,CAEA,SAASwI,GAAW,KAAE9D,EAAI,MAAElF,IAC1B0G,EAAOxB,GAAQlF,EAEf,MAAMiJ,EAAgB,CACpBnG,OAAQuD,EAAUrG,MAAMkF,GAAM7D,QAAQ,GACtC6H,KAAMC,KAER9C,EAAUrG,MAAMkF,GAAM7D,QAAQiH,SAAQxF,IACpC,GAAGA,GAAUmG,EAAe,CAC1B,MAAMC,EAAO/I,KAAKiJ,IAAItG,EAAOtC,EAAIiG,EAAYzG,OAC1CkJ,EAAOD,EAAcC,OACtBD,EAAcnG,OAASA,EACvBmG,EAAcC,KAAOA,EAEzB,KAGCD,EAAcC,KAAO,MACtBD,EAAcnG,OAAO9C,MAAQA,EAC7BiJ,EAAcnG,OAAOtC,EAAIiG,EAAYzG,MACrCsG,EAAetG,MAAQiJ,EAAcnG,QAErCuD,EAAUrG,MAAMkF,GAAMzC,UAAUgE,EAAYzG,MAAOA,EAEvD,C,OAEAmD,EAAAA,EAAAA,KAAU,KACR8D,EAAcjH,MAAQqJ,SAASC,cAAc,gCAC7CjD,EAAUrG,MAAMoE,OAAO/C,QAAQiH,SAAQxF,GAAUA,EAAO9C,MAAQ,IAChEqG,EAAUrG,MAAMsE,OAAOjD,QAAQiH,SAAQxF,GAAUA,EAAO9C,MAAQ,GAAE,I,u7DCnPpE,MAAM,EAAc,EAEpB,SCJAuJ,EAAAA,EAAAA,IAAUC,GAAKC,MAAM,O,uBCHrB,IAAIC,EAAM,CACT,eAAgB,KAChB,kBAAmB,KACnB,gBAAiB,KACjB,aAAc,MAIf,SAASC,EAAeC,GACvB,IAAIC,EAAKC,EAAsBF,GAC/B,OAAOG,EAAoBF,EAC5B,CACA,SAASC,EAAsBF,GAC9B,IAAIG,EAAoBC,EAAEN,EAAKE,GAAM,CACpC,IAAIK,EAAI,IAAIC,MAAM,uBAAyBN,EAAM,KAEjD,MADAK,EAAEE,KAAO,mBACHF,CACP,CACA,OAAOP,EAAIE,EACZ,CACAD,EAAeS,KAAO,WACrB,OAAO3G,OAAO2G,KAAKV,EACpB,EACAC,EAAeU,QAAUP,EACzBQ,EAAOC,QAAUZ,EACjBA,EAAeE,GAAK,I,+5KCxBhBW,EAA2B,CAAC,EAGhC,SAAST,EAAoBU,GAE5B,IAAIC,EAAeF,EAAyBC,GAC5C,QAAqBE,IAAjBD,EACH,OAAOA,EAAaH,QAGrB,IAAID,EAASE,EAAyBC,GAAY,CAGjDF,QAAS,CAAC,GAOX,OAHAK,EAAoBH,GAAUI,KAAKP,EAAOC,QAASD,EAAQA,EAAOC,QAASR,GAGpEO,EAAOC,OACf,CAGAR,EAAoBe,EAAIF,E,WCzBxB,IAAIG,EAAW,GACfhB,EAAoBiB,EAAI,SAASC,EAAQC,EAAUC,EAAIC,GACtD,IAAGF,EAAH,CAMA,IAAIG,EAAelC,IACnB,IAAStC,EAAI,EAAGA,EAAIkE,EAASjE,OAAQD,IAAK,CACrCqE,EAAWH,EAASlE,GAAG,GACvBsE,EAAKJ,EAASlE,GAAG,GACjBuE,EAAWL,EAASlE,GAAG,GAE3B,IAJA,IAGIyE,GAAY,EACPC,EAAI,EAAGA,EAAIL,EAASpE,OAAQyE,MACpB,EAAXH,GAAsBC,GAAgBD,IAAa3H,OAAO2G,KAAKL,EAAoBiB,GAAGQ,OAAM,SAASC,GAAO,OAAO1B,EAAoBiB,EAAES,GAAKP,EAASK,GAAK,IAChKL,EAASlI,OAAOuI,IAAK,IAErBD,GAAY,EACTF,EAAWC,IAAcA,EAAeD,IAG7C,GAAGE,EAAW,CACbP,EAAS/H,OAAO6D,IAAK,GACrB,IAAI6E,EAAIP,SACER,IAANe,IAAiBT,EAASS,EAC/B,CACD,CACA,OAAOT,CArBP,CAJCG,EAAWA,GAAY,EACvB,IAAI,IAAIvE,EAAIkE,EAASjE,OAAQD,EAAI,GAAKkE,EAASlE,EAAI,GAAG,GAAKuE,EAAUvE,IAAKkE,EAASlE,GAAKkE,EAASlE,EAAI,GACrGkE,EAASlE,GAAK,CAACqE,EAAUC,EAAIC,EAwB/B,C,eC5BArB,EAAoB4B,EAAI,SAASpB,EAASqB,GACzC,IAAI,IAAIH,KAAOG,EACX7B,EAAoBC,EAAE4B,EAAYH,KAAS1B,EAAoBC,EAAEO,EAASkB,IAC5EhI,OAAOoI,eAAetB,EAASkB,EAAK,CAAEK,YAAY,EAAM3E,IAAKyE,EAAWH,IAG3E,C,eCPA1B,EAAoBgC,EAAI,WACvB,GAA0B,kBAAfC,WAAyB,OAAOA,WAC3C,IACC,OAAOhL,MAAQ,IAAIiL,SAAS,cAAb,EAChB,CAAE,MAAOhC,GACR,GAAsB,kBAAX5G,OAAqB,OAAOA,MACxC,CACA,CAPuB,E,eCAxB0G,EAAoBC,EAAI,SAASkC,EAAKhH,GAAQ,OAAOzB,OAAO0I,UAAUC,eAAevB,KAAKqB,EAAKhH,EAAO,C,eCKtG,IAAImH,EAAkB,CACrB,IAAK,GAaNtC,EAAoBiB,EAAEO,EAAI,SAASe,GAAW,OAAoC,IAA7BD,EAAgBC,EAAgB,EAGrF,IAAIC,EAAuB,SAASC,EAA4B9G,GAC/D,IAKI+E,EAAU6B,EALVpB,EAAWxF,EAAK,GAChB+G,EAAc/G,EAAK,GACnBgH,EAAUhH,EAAK,GAGImB,EAAI,EAC3B,GAAGqE,EAASyB,MAAK,SAAS9C,GAAM,OAA+B,IAAxBwC,EAAgBxC,EAAW,IAAI,CACrE,IAAIY,KAAYgC,EACZ1C,EAAoBC,EAAEyC,EAAahC,KACrCV,EAAoBe,EAAEL,GAAYgC,EAAYhC,IAGhD,GAAGiC,EAAS,IAAIzB,EAASyB,EAAQ3C,EAClC,CAEA,IADGyC,GAA4BA,EAA2B9G,GACrDmB,EAAIqE,EAASpE,OAAQD,IACzByF,EAAUpB,EAASrE,GAChBkD,EAAoBC,EAAEqC,EAAiBC,IAAYD,EAAgBC,IACrED,EAAgBC,GAAS,KAE1BD,EAAgBC,GAAW,EAE5B,OAAOvC,EAAoBiB,EAAEC,EAC9B,EAEI2B,EAAqBC,KAAK,qBAAuBA,KAAK,sBAAwB,GAClFD,EAAmBtE,QAAQiE,EAAqBO,KAAK,KAAM,IAC3DF,EAAmBjK,KAAO4J,EAAqBO,KAAK,KAAMF,EAAmBjK,KAAKmK,KAAKF,G,IC/CvF,IAAIG,EAAsBhD,EAAoBiB,OAAEL,EAAW,CAAC,MAAM,WAAa,OAAOZ,EAAoB,KAAO,IACjHgD,EAAsBhD,EAAoBiB,EAAE+B,E","sources":["webpack://vue-3/./src/utils.js","webpack://vue-3/./src/Handle.js","webpack://vue-3/./src/components/Timeline.vue","webpack://vue-3/./src/components/Timeline.vue?dfd9","webpack://vue-3/./src/components/Box.vue","webpack://vue-3/./src/components/Box.vue?ef4f","webpack://vue-3/./src/components/Transport.vue","webpack://vue-3/./src/components/Transport.vue?58ba","webpack://vue-3/./src/storage.js","webpack://vue-3/./src/App.vue","webpack://vue-3/./src/App.vue?7ccd","webpack://vue-3/./src/main.js","webpack://vue-3/./src/assets/ sync ^\\.\\/.*\\.png$","webpack://vue-3/webpack/bootstrap","webpack://vue-3/webpack/runtime/chunk loaded","webpack://vue-3/webpack/runtime/define property getters","webpack://vue-3/webpack/runtime/global","webpack://vue-3/webpack/runtime/hasOwnProperty shorthand","webpack://vue-3/webpack/runtime/jsonp chunk loading","webpack://vue-3/webpack/startup"],"sourcesContent":["export const clamp = (value, min, max) => Math.min(Math.max(value, min), max);\r\nexport const easingFunctions = {\r\n  none: { displayName: 'Linear', func: t => t },\r\n  easeIn: { displayName: 'EaseIn', func: t => t * t },\r\n  easeOut: { displayName: 'EaseOut', func: t => 1 - (1 - t) * (1 - t) },\r\n  easeInOut: { displayName: 'EaseInOut', func: t => t < 0.5 ? 2 * t * t : 1 - Math.pow(-2 * t + 2, 2) / 2 },\r\n};\r\n","export class Handle {\r\n  constructor(t, value, easingFunction) {\r\n    this.t = t;\r\n    this.value = value || 0;\r\n    this.easingFunction = easingFunction || 'easeInOut';\r\n  }\r\n}\r\n","<template>\r\n  <div ref='timeline' class='timeline' :style='{\r\n    height: `${height-1}px`,\r\n    border: \"0.5px solid black\"\r\n    }'\r\n    @dblclick='doubleClicked'\r\n    @contextmenu.prevent>\r\n    <span :class='{ handle: true, \"handle-active\": props.selectedHandle == handle }' v-for='(handle, index) in handles' :key='index'\r\n      :style='{\r\n        width: `${handleWidth}px`,\r\n        height: `${height-1}px`,\r\n        left: handle.t * (width - handleWidth) + \"px\"\r\n      }'\r\n      @mousedown.left='handleMouseDown(handle)'\r\n      @contextmenu.prevent='removeHandle(handle)'>\r\n    </span>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { onMounted, reactive, ref, computed } from 'vue';\r\nimport { clamp, easingFunctions } from '@/utils';\r\nimport { Handle } from '@/Handle';\r\n\r\nconst emit = defineEmits(['change', 'handleSelected']);\r\nconst props = defineProps({\r\n  height: { type: Number, default: 20 },\r\n  handleWidth: { type: Number, default: 20, },\r\n  defaultValue: { type: Number, default: 1 },\r\n  selectedHandle: { default: null }\r\n});\r\n\r\nconst width = ref(0);\r\nconst draggingHandle = ref(null);\r\nlet timeline = ref();\r\nconst handles = reactive([\r\n  reactive(new Handle(0.0, props.defaultValue)),\r\n  reactive(new Handle(0.5, props.defaultValue)),\r\n  reactive(new Handle(1.0, props.defaultValue)),\r\n]);\r\n\r\nfunction getT(mouseX) {\r\n  if(!timeline.value) return 0;\r\n  const bbox = timeline.value.getBoundingClientRect();\r\n  const x = clamp(mouseX, bbox.left + props.handleWidth/2, bbox.right - props.handleWidth/2) - bbox.left;\r\n  return (x - props.handleWidth/2) / (bbox.width - props.handleWidth);\r\n}\r\n\r\nfunction mouseMove(ev) {\r\n  if(!timeline.value) return;\r\n  if(draggingHandle.value) {\r\n    const bbox = timeline.value.getBoundingClientRect();\r\n    const x = clamp(ev.clientX, bbox.left + props.handleWidth/2, bbox.right - props.handleWidth/2) - bbox.left;\r\n    draggingHandle.value.t = (x - props.handleWidth/2) / (bbox.width - props.handleWidth);\r\n    // Sort handles by t value\r\n    handles.sort((a, b) => a.t - b.t);\r\n    emit('change', handles);\r\n  }\r\n}\r\n\r\nfunction mouseUp() {\r\n  draggingHandle.value = null;\r\n}\r\n\r\nfunction addHandle(t, value) {\r\n  const newHandle = new Handle(t, value);\r\n  handles.push(newHandle);\r\n  handles.sort((a, b) => a.t - b.t);\r\n  emit('handleSelected', newHandle);\r\n  emit('change', handles);\r\n}\r\n\r\nfunction doubleClicked(ev) {\r\n  addHandle(getT(ev.clientX), props.defaultValue);\r\n}\r\n\r\ndefineExpose({ handles, addHandle });\r\n\r\nonMounted(() => {\r\n  function updateWidth() {\r\n    if(!timeline.value) return;\r\n    const bbox = timeline.value.getBoundingClientRect();\r\n    width.value = bbox.width;\r\n  }\r\n  updateWidth();\r\n  window.addEventListener('mousemove', mouseMove);\r\n  window.addEventListener('mouseup', mouseUp);\r\n  window.addEventListener('resize', updateWidth);\r\n});\r\n\r\nfunction handleMouseDown(handle) {\r\n  // selectedHandle.value = handle;\r\n  draggingHandle.value = handle;\r\n  emit('handleSelected', handle);\r\n}\r\nfunction removeHandle(handle) {\r\n  handles.splice(handles.indexOf(handle), 1);\r\n  emit('changed', handles);\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.timeline {\r\n  position: relative;\r\n  background: white;\r\n}\r\n.handle {\r\n  display: inline-block;\r\n  position: absolute;\r\n  box-sizing: border-box;\r\n  border: 1px solid #214154;\r\n  cursor: col-resize;\r\n  background: #3b51a1;\r\n  &-active {\r\n    background: red;\r\n  }\r\n}\r\n</style>\r\n","import script from \"./Timeline.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./Timeline.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./Timeline.vue?vue&type=style&index=0&id=34d7e7ce&lang=scss&scoped=true\"\n\nimport exportComponent from \"D:\\\\Downloads\\\\n493bb\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-34d7e7ce\"]])\n\nexport default __exports__","<template>\r\n  <div class='box' ref='box' :style='style'>\r\n    <!-- Scale handles -->\r\n    <div class='handle left' @mousedown='startDrag($event, directions.left)' :style='{ height: `${props.height * props.scaleY}px` }'></div>\r\n    <div class='handle top' @mousedown='startDrag($event, directions.top)' :style='{ width: `${props.width * props.scaleX}px` }'></div>\r\n    <div class='handle right' @mousedown='startDrag($event, directions.right)' :style='{ height: `${props.height * props.scaleY}px` }'></div>\r\n    <div class='handle bottom' @mousedown='startDrag($event, directions.bottom)' :style='{ width: `${props.width * props.scaleX}px` }'></div>\r\n    <div class='handle translateX' @mousedown='startDrag($event, directions.translateX)' :style='{ right: \"-60px\", top: \"calc(50% - 7px)\" }'></div>\r\n    <div class='handle translateY' @mousedown='startDrag($event, directions.translateY)' :style='{ left: \"calc(50% - 7px)\", top: \"-60px\" }'></div>\r\n    <div class='handle rotate' @mousedown='startDrag($event, directions.rotate)'></div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { exportDefaultSpecifier } from '@babel/types';\r\nimport { ref, reactive, computed, onMounted, toRefs } from 'vue';\r\n\r\nconst directions = Object.freeze({\r\n  left: 1,\r\n  top: 2,\r\n  right: 3,\r\n  bottom: 4,\r\n  translateX: 5,\r\n  translateY: 6,\r\n  rotate: 7,\r\n});\r\n\r\nconst props = defineProps({\r\n  width: { type: Number, default: 100 },\r\n  height: { type: Number, default: 100 },\r\n  x: { type: Number, default: 0 },\r\n  y: { type: Number, default: 0 },\r\n  scaleX: { type: Number, default: 1 },\r\n  scaleY: { type: Number, default: 1 },\r\n  rotation: { type: Number, default: 0 },\r\n});\r\nconst style = computed(() => ({\r\n  position: 'relative',\r\n  left: `${props.x}px`,\r\n  bottom: `${props.y}px`,\r\n  width: `${props.width * props.scaleX}px`,\r\n  height: `${props.height * props.scaleY}px`,\r\n  transform: `rotate(${props.rotation}deg)`,\r\n}));\r\n\r\nconst origin = { x: null, y: null };\r\nconst startPos = { x: 0, y: 0 };\r\nconst startValue = { x: 0, y: 0 };\r\nconst box = ref(null);\r\nlet draggingDirection = null;\r\n\r\nfunction startDrag(ev, direction) {\r\n  draggingDirection = direction;\r\n  startPos.x = ev.clientX;\r\n  startPos.y = ev.clientY;\r\n  startValue.x = props.x;\r\n  startValue.y = props.y;\r\n  startValue.rotation = props.rotation;\r\n  const lookup = {\r\n    [directions.left]: { prop: 'scaleX', value: props.scaleX },\r\n    [directions.top]: { prop: 'scaleY', value: props.scaleY },\r\n    [directions.right]: { prop: 'scaleX', value: props.scaleX },\r\n    [directions.bottom]: { prop: 'scaleY', value: props.scaleY },\r\n    [directions.translateX]: { prop: 'x', value: props.x },\r\n    [directions.translateY]: { prop: 'y', value: props.y },\r\n    [directions.rotate]: { prop: 'rotation', value: props.rotation },\r\n  }\r\n  emit('change', lookup[direction]);\r\n}\r\n\r\nconst emit = defineEmits(['change']);\r\nconst scaleFuncs = {\r\n  [directions.left]: (x, y, center) => emit('change', { prop: 'scaleX', value: (center.x - x) / props.width * 2 }),\r\n  [directions.top]: (x, y, center, bottom) => emit('change', { prop: 'scaleY', value: (bottom - y) / props.height }),\r\n  [directions.right]: (x, y, center) => emit('change', { prop: 'scaleX', value: (x - center.x) / props.width * 2 }),\r\n  // [directions.bottom]: (x, y, center) => emit('change', { prop: 'scaleY', value: (y - center.y) / props.height * 2 }),\r\n};\r\nconst translateFuncs = {\r\n  [directions.translateX]: (x, y, center) => emit('change', { prop: 'x', value: startValue.x + (x - startPos.x) }),\r\n  [directions.translateY]: (x, y, center) => emit('change', { prop: 'y', value: startValue.y + (startPos.y - y) }),\r\n};\r\nfunction mouseMove(ev) {\r\n  if(scaleFuncs[draggingDirection]) {\r\n    /** @type {DOMRect} */\r\n    const bbox = box.value.getBoundingClientRect();\r\n    const center = {\r\n      x: bbox.left + (bbox.right - bbox.left) / 2,\r\n      y: bbox.top + (bbox.bottom - bbox.top) / 2\r\n    };\r\n    scaleFuncs[draggingDirection](ev.clientX, ev.clientY, center, bbox.bottom);\r\n  } else if(translateFuncs[draggingDirection]) {\r\n    /** @type {DOMRect} */\r\n    translateFuncs[draggingDirection](ev.clientX, ev.clientY, origin);\r\n  } else if(draggingDirection == directions.rotate) {\r\n    emit('change', { prop: 'rotation', value: startValue.rotation + (ev.clientX - startPos.x) });\r\n  }\r\n}\r\n\r\nfunction mouseUp(ev) {\r\n  draggingDirection = null;\r\n}\r\n\r\nonMounted(() => {\r\n  window.addEventListener('mousemove', mouseMove);\r\n  window.addEventListener('mouseup', mouseUp);\r\n  const bbox = box.value.getBoundingClientRect();\r\n  origin.x = bbox.left + (bbox.right - bbox.left) / 2;\r\n  origin.y = bbox.top + (bbox.bottom - bbox.top) / 2;\r\n});\r\n</script>\r\n\r\n<style lang='scss'>\r\n:root {\r\n  --x-transform-color: #23db23;\r\n  --y-transform-color: #2942ef;\r\n}\r\n.box {\r\n  position: relative;\r\n  display: inline-block;\r\n  box-sizing: border-box;\r\n  border: 1px solid red;\r\n}\r\n.handle {\r\n  position: absolute;\r\n  // border: 1px solid blue;\r\n}\r\n.left, .right {\r\n  width: 11px;\r\n  height: 100px;\r\n  top: -1px;\r\n  &:hover {\r\n    cursor: col-resize;\r\n  }\r\n}\r\n.top, .bottom {\r\n  width: 100px;\r\n  height: 11px;\r\n  left: -1px;\r\n  &:hover {\r\n    cursor: row-resize;\r\n  }\r\n}\r\n.left {\r\n  left: -7px;\r\n}\r\n.right {\r\n  right: -7px;\r\n}\r\n.top {\r\n  top: -7px;\r\n}\r\n.bottom {\r\n  bottom: -7px;\r\n}\r\n.translateX {\r\n  height: 11px;\r\n  width: 50px;\r\n  &::before {\r\n    content: '';\r\n    position: absolute;\r\n    display: block;\r\n    height: 5px;\r\n    width: 5px;\r\n    top: 2px;\r\n    right: -1px;\r\n    border-top: 2px solid var(--x-transform-color);\r\n    border-right: 2px solid var(--x-transform-color);\r\n    border-radius: 2px;\r\n    transform: rotate(45deg);\r\n  }\r\n  &::after {\r\n    content: '';\r\n    position: relative;\r\n    display: block;\r\n    height: 1px;\r\n    top: 5px;\r\n    background-color: var(--x-transform-color);\r\n  }\r\n}\r\n.translateY {\r\n  height: 50px;\r\n  width: 11px;\r\n  // Arrow\r\n  &::before {\r\n    content: '';\r\n    position: absolute;\r\n    display: block;\r\n    height: 5px;\r\n    width: 5px;\r\n    left: 2px;\r\n    border-top: 2px solid var(--y-transform-color);\r\n    border-left: 2px solid var(--y-transform-color);\r\n    border-radius: 2px;\r\n    transform: rotate(45deg);\r\n  }\r\n  // Handle\r\n  &::after {\r\n    content: ' ';\r\n    display: inline-block;\r\n    position: relative;\r\n    display: block;\r\n    width: 1px;\r\n    height: 100%;\r\n    left: 5px;\r\n    background-color: var(--y-transform-color);\r\n  }\r\n}\r\n.rotate {\r\n  display: inline-block;\r\n  position: relative;\r\n  display: block;\r\n  width: 20px;\r\n  height: 20px;\r\n  border: 1px solid red;\r\n  border-radius: 15px;\r\n  top: calc(50% - 11px);\r\n  left: calc(50% - 11px);\r\n  cursor: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAA7EAAAOxAGVKw4bAAABH0lEQVQ4jZ3TMSuFcRQG8HNvMplukkG6ScabwSCjQSmDdAfJZLJZfAHJYPAJfAApMsonMJoMkmK4H0CRkH4G59UbL/dyln+d93me/3PO+/wjstDCGfriD1UGb0TEXETs4CIi5iNiLL/dRsRpRBzVarWXbypo4FH3usNclcBmBXgFwxjCLA7whleslsl1XFcInODrRYt4wjNaRXO2RLrHBQ6xjf4Kt+uJPSsaw5hOq123no6vcpyRroQfRPbSRbv+L4WITp6NeiquYfIPAgN5PhQZkMvriY0ZHGOwaJynSLMH8ujnLyw1J3KM8MtbwDg6PlL7fX/YyixslgHFaNhPp7s/3bCcSePjdS7hJpO3kPYXf90VmmjnOOtp9xJTVfh3Vy+OrLfhOBIAAAAASUVORK5CYII=) 8 8, auto;\r\n  &::before {\r\n    content: '';\r\n    position: relative;\r\n    display: block;\r\n    width: 6px;\r\n    height: 6px;\r\n    left: -4px;\r\n    top: 7px;\r\n    border-top: 1px solid red;\r\n    border-left: 1px solid red;\r\n    border-radius: 2px;\r\n    transform: rotate(45deg);\r\n  }\r\n  &::after {\r\n    content: '';\r\n    position: absolute;\r\n    display: block;\r\n    width: 6px;\r\n    height: 6px;\r\n    right: -4px;\r\n    top: 5px;\r\n    border-bottom: 1px solid red;\r\n    border-right: 1px solid red;\r\n    border-radius: 2px;\r\n    transform: rotate(45deg);\r\n  }\r\n}\r\n</style>\r\n","import script from \"./Box.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./Box.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./Box.vue?vue&type=style&index=0&id=3ec53535&lang=scss\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\r\n  <div id='transport' ref='transport' :style='{ height: `${props.height}px` }' @mousedown='mouseDown'>\r\n    <span id='playHead' :style='{ left: `${handleWidth/4 + t * (width - handleWidth) + 1}px`}'></span>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { onMounted, reactive, ref, computed } from 'vue';\r\nimport { clamp } from '@/utils';\r\n\r\nconst emit = defineEmits(['change']);\r\nconst props = defineProps({\r\n  height: { type: Number, default: 30 },\r\n  handleWidth: { type: Number, default: 20 },\r\n  t: { type: Number, default: 0 }\r\n});\r\n\r\nconst transport = ref(null);\r\nconst width = ref(0);\r\n\r\nlet draggingPlayHead = false;\r\nfunction mouseDown(ev) {\r\n  draggingPlayHead = true;\r\n}\r\n\r\nfunction mouseMove(ev) {\r\n  if(draggingPlayHead) {\r\n    const bbox = transport.value.getBoundingClientRect();\r\n    // const x = clamp(ev.clientX, bbox.left, bbox.right) - bbox.left;\r\n    const x = clamp(ev.clientX, bbox.left + props.handleWidth/2, bbox.right - props.handleWidth/2) - bbox.left;\r\n    emit('change', { t: (x - props.handleWidth/2) / (bbox.width - props.handleWidth) });\r\n    // emit('change', { t: x / bbox.width });\r\n  }\r\n}\r\n\r\nfunction mouseUp(ev) {\r\n  draggingPlayHead = false;\r\n}\r\n\r\nonMounted(() => {\r\n  window.addEventListener('mousemove', mouseMove);\r\n  window.addEventListener('mouseup', mouseUp);\r\n  width.value = transport.value.getBoundingClientRect().width;\r\n});\r\n\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n#transport {\r\n  background: rgb(53 53 177);\r\n  overflow: hidden;\r\n}\r\n#playHead {\r\n  position: relative;\r\n  width: 0;\r\n  height: 0;\r\n  top: 8px;\r\n  border: solid white;\r\n  border-width: 0 3px 3px 0;\r\n  display: inline-block;\r\n  padding: 3px;\r\n  transform: rotate(45deg);\r\n}\r\n</style>\r\n","import script from \"./Transport.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./Transport.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./Transport.vue?vue&type=style&index=0&id=d6821808&lang=scss&scoped=true\"\n\nimport exportComponent from \"D:\\\\Downloads\\\\n493bb\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-d6821808\"]])\n\nexport default __exports__","export const saveData = data => {\r\n  localStorage.setItem('data', JSON.stringify(data));\r\n}\r\nexport const loadData = () => {\r\n  return JSON.parse(localStorage.getItem('data'));\r\n}","<template>\r\n  <div id='objectContainer'>\r\n    <div :style='{\r\n      display: \"flex\",\r\n      \"justify-content\": \"center\",\r\n      \"align-items\": \"flex-end\",\r\n      width: \"400px\",\r\n      height: \"400px\",\r\n      \"border-bottom\": \"1px solid white\",\r\n    }'>\r\n      <Box :x='object.x' :y='object.y' :scaleX='object.scaleX' :scaleY='object.scaleY' :rotation='object.rotation' @change='boxChanged'></Box>\r\n    </div>\r\n  </div>\r\n  <div class='controls'>\r\n    <div class='handleControls' v-if='selectedHandle'>\r\n      <label style='grid-area: a;' for='time'>Time</label>\r\n      <input style='grid-area: b;' id='time' type='number' v-model='selectedHandleT' step='0.01'/>\r\n      <label style='grid-area: c;' for='value'>Value</label>\r\n      <input style='grid-area: d;' id='value' type='number' v-model='selectedHandleValue'/>\r\n      <input style='grid-area: e;' type=\"button\" value=\"Reset\" @click='selectedHandle.value = defaultValues[selectedProp]'>\r\n      <label style='grid-area: f;'>Easing</label>\r\n      <div style='grid-area: g;' class='easingFunctions'>\r\n        <img v-for='(easingFunction, key) in easingFunctions' :src='require(`./assets/${key}.png`)'\r\n          :title='easingFunction.displayName'\r\n          @click='selectedHandle.easingFunction = key'\r\n          :class='{ selectedEasing: selectedHandle.easingFunction == key }'>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div class='control-buttons'>\r\n    <input type='button' value='Play' @click='play'>\r\n    <input type='button' value='Pause' @click='pause'>\r\n    <input type='button' value='Stop' @click='stop'>\r\n    <input type='button' value='Save' @click='saveDataClick'>\r\n    <input type='button' value='Load' @click='loadDataClick'>\r\n    <input type='button' value='Export' @click='exportClick'>\r\n  </div>\r\n  <div id='timeline'>\r\n    <div style='grid-row: 2;'>\r\n      <div v-for='t in animationProperties' :key='t'>{{t}}</div>\r\n    </div>\r\n    <Transport :t='currentTime' @change='ev => currentTime = ev.t' style='grid-column: 2;'></Transport>\r\n    <div style='grid-column: 2; grid-row: 2; overflow: hidden;'>\r\n      <Timeline v-for='(prop, index) in animationProperties'\r\n        :ref='el => timelines[prop] = el'\r\n        @handleSelected='handleSelected($event); selectedProp = prop;'\r\n        @change=\"handleChanged\"\r\n        :selectedHandle='selectedHandle'\r\n        :defaultValue='defaultValues[prop]'\r\n        ></Timeline>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, reactive, computed, onMounted, watch } from 'vue';\r\nimport { clamp, easingFunctions } from '@/utils';\r\nimport Timeline from './components/Timeline.vue';\r\nimport Box from './components/Box.vue';\r\nimport Transport from './components/Transport.vue';\r\nimport { saveData, loadData } from '@/storage';\r\nimport { Handle } from '@/Handle';\r\n\r\nconst animationProperties = ref([ 'x', 'y', 'scaleX', 'scaleY', 'rotation' ]);\r\nconst defaultValues = ref({ x: 0, y: 0, scaleX: 1, scaleY: 1, rotation: 0 });\r\nconst timelines = ref({});\r\nconst duration = 2;\r\nconst selectedHandle = ref(null);\r\nconst selectedProp = ref(null);\r\nconst playing = ref(false);\r\nconst currentTime = ref(0);\r\nconst object = computed(() => {\r\n  const object = {\r\n    x: 0,\r\n    y: 0,\r\n    scaleX: 0,\r\n    scaleY: 0,\r\n    rotation: 0,\r\n  };\r\n  for(const prop of animationProperties.value) {\r\n    const timeline = timelines.value[prop];\r\n    if(!timeline) {\r\n      return object;\r\n    }\r\n    let handle1 = timeline.handles[0];\r\n    let handle2 = timeline.handles[1];\r\n    for(let i = 1; i < timeline.handles.length-1; i++) {\r\n      const nextHandle = timeline.handles[i];\r\n      if(nextHandle.t > currentTime.value) {\r\n        break;\r\n      }\r\n      handle1 = nextHandle;\r\n      handle2 = timeline.handles[i+1];\r\n    }\r\n    const t = clamp((currentTime.value - handle1.t) / (handle2.t - handle1.t), 0, 1);  \r\n    object[prop] = lerp(handle1.value, handle2.value, easingFunctions[handle2.easingFunction].func(t));\r\n  }\r\n  return object;\r\n});\r\nlet firstTimeline = ref(null);\r\nconst selectedHandleT = computed({\r\n  get: () => selectedHandle.value.t.toFixed(2),\r\n  set: value => selectedHandle.value.t = value,\r\n})\r\nconst selectedHandleValue = computed({\r\n  get: () => selectedHandle.value.value.toFixed(2),\r\n  set: value => selectedHandle.value.value = value,\r\n})\r\nlet lastTime = Date.now();\r\nlet animationFrame = null;\r\n\r\nfunction lerp(start, end, t) {\r\n  return start * (1 - t) + end * t;\r\n}\r\n\r\nfunction advanceTime() {\r\n  const dt = (Date.now() - lastTime) / 1000;\r\n  currentTime.value += dt / duration;\r\n  if(currentTime.value >= 1) {\r\n    currentTime.value = 0;\r\n    stop();\r\n    return;\r\n  }\r\n  lastTime = Date.now();\r\n  animationFrame = requestAnimationFrame(advanceTime);\r\n}\r\n\r\nfunction play() {\r\n  playing.value = true;\r\n  lastTime = Date.now();\r\n  advanceTime();\r\n}\r\n\r\nfunction pause() {\r\n  playing.value = false;\r\n  cancelAnimationFrame(animationFrame);\r\n}\r\n\r\nfunction stop() {\r\n  pause();\r\n  currentTime.value = 0;\r\n}\r\n\r\nfunction saveDataClick() {\r\n  // saveData({ hello: 2 });\r\n  const out = {};\r\n  animationProperties.value.forEach(prop => {\r\n    out[prop] = timelines.value[prop].handles;\r\n    console.log(out[prop]);\r\n  });\r\n  saveData(out);\r\n}\r\n\r\nfunction loadDataClick() {\r\n  const data = loadData();\r\n  for(const prop in data) {\r\n    // Clear the array\r\n    timelines.value[prop].handles.length = 0;\r\n    data[prop].forEach(handle => {\r\n      timelines.value[prop].handles.push(reactive(new Handle(handle.t, handle.value, handle.easingFunction)));\r\n    });\r\n  }\r\n}\r\n\r\nfunction exportClick() {\r\n  const getValueAt = (prop, t) => {\r\n    const timeline = timelines.value[prop];\r\n    let handle1 = timeline.handles[0];\r\n    let handle2 = timeline.handles[1];\r\n    for(let i = 1; i < timeline.handles.length-1; i++) {\r\n      const nextHandle = timeline.handles[i];\r\n      if(nextHandle.t > t) {\r\n        break;\r\n      }\r\n      handle1 = nextHandle;\r\n      handle2 = timeline.handles[i+1];\r\n    }\r\n    const t2 = clamp((t - handle1.t) / (handle2.t - handle1.t), 0, 1);  \r\n    return lerp(handle1.value, handle2.value, easingFunctions[handle2.easingFunction].func(t2));\r\n  };\r\n  let out = {};\r\n  animationProperties.value.forEach(prop => {\r\n    out[prop] = [];\r\n    for(let i = 0; i < 1; i += 1 / 120) {\r\n      out[prop].push(getValueAt(prop, i).toFixed(2));\r\n    }\r\n    console.log(`local val_${prop} = { ${out[prop].join(', ')} }`);\r\n  });\r\n}\r\n\r\nfunction exportToFile() {\r\n  const out = {};\r\n  animationProperties.value.forEach(prop => {\r\n    out[prop] ??= {};\r\n    console.log(timelines.value[prop].handles);\r\n  });\r\n  // Create a Blob object with the content you want to save\r\n  const fileContent = 'This is the content of the file.';\r\n  const blob = new Blob([fileContent], { type: 'text/plain' });\r\n\r\n  // Create a file save dialog by creating an <a> element and simulating a click event\r\n  const link = document.createElement('a');\r\n  link.href = URL.createObjectURL(blob);\r\n  link.download = 'filename.txt';\r\n  link.click();\r\n\r\n  // Clean up the URL.createObjectURL() after the file is saved\r\n  URL.revokeObjectURL(link.href);\r\n}\r\n\r\nfunction handleSelected(handle) {\r\n  selectedHandle.value = handle;\r\n  currentTime.value = handle.t;\r\n}\r\n\r\nfunction handleChanged(handles) {\r\n  currentTime.value = selectedHandle.value.t;\r\n}\r\n\r\nfunction boxChanged({ prop, value }) {\r\n  object[prop] = value;\r\n  // Get closest handle with the current prop value and change it's value\r\n  const closestHandle = {\r\n    handle: timelines.value[prop].handles[0],\r\n    dist: Infinity\r\n  };\r\n  timelines.value[prop].handles.forEach(handle => {\r\n    if(handle != closestHandle) {\r\n      const dist = Math.abs(handle.t - currentTime.value);\r\n      if(dist < closestHandle.dist) {\r\n        closestHandle.handle = handle;\r\n        closestHandle.dist = dist;\r\n      }\r\n    }\r\n  });\r\n  // If the current playhead is close to a handle, modify that, otherwise create a new handle\r\n  if(closestHandle.dist < 0.025) {\r\n    closestHandle.handle.value = value;\r\n    closestHandle.handle.t = currentTime.value;\r\n    selectedHandle.value = closestHandle.handle;\r\n  } else {\r\n    timelines.value[prop].addHandle(currentTime.value, value);\r\n  }\r\n}\r\n\r\nonMounted(() => {\r\n  firstTimeline.value = document.querySelector('#timeline > div:nth-child(2)');\r\n  timelines.value.scaleX.handles.forEach(handle => handle.value = 1);\r\n  timelines.value.scaleY.handles.forEach(handle => handle.value = 1);\r\n});\r\n</script>\r\n\r\n<style lang='scss'>\r\n@import url('https://fonts.googleapis.com/css2?family=Roboto&display=swap');\r\n#app {\r\n  display: grid;\r\n  font-family: 'Roboto', sans-serif;\r\n  grid-template-rows: 1fr auto auto 30px 100px 1px;\r\n  // width: 100vw;\r\n  width: 800px;\r\n  margin: auto;\r\n  height: 100vh;\r\n}\r\ninput[type=\"button\"] {\r\n  font-family: 'Roboto';\r\n  padding: 5px 15px;\r\n  margin: 0px 1px;\r\n  cursor: pointer;\r\n}\r\nbody {\r\n  background: black;\r\n  color: white;\r\n  margin: 0;\r\n  user-select: none;\r\n}\r\ncanvas {\r\n  outline: 10px solid white;\r\n}\r\nsvg {\r\n  display: block;\r\n  height: 20px;\r\n  background: white;\r\n  outline: 1px solid black;\r\n  width: 100%;\r\n  rect:hover {\r\n    cursor: col-resize;\r\n  }\r\n}\r\n#objectContainer {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n.controls {\r\n  margin: 5px auto;\r\n}\r\n.control-buttons {\r\n  margin: 5px auto;\r\n  display: grid;\r\n  grid-gap: 3px;\r\n  grid-template: \r\n    \"a a b b c c\" auto\r\n    \"d d e e f f\" auto / 1fr 1fr 1fr 1fr 1fr 1fr;\r\n  :nth-child(1) {\r\n    grid-column: 1 / span 2;\r\n  }\r\n  :nth-child(2) {\r\n    grid-column: 3 / span 2;\r\n  }\r\n  :nth-child(3) {\r\n    grid-column: 5 / span 2;\r\n  }\r\n  :nth-child(4) {\r\n    grid-row: 2;\r\n    grid-column: 1 / span 2;\r\n  }\r\n  :nth-child(5) {\r\n    grid-row: 2;\r\n    grid-column: 3 / span 2;\r\n  }\r\n  :nth-child(6) {\r\n    grid-row: 2;\r\n    grid-column: 5 / span 2;\r\n  }\r\n}\r\n.handleControls > * {\r\n  display: block;\r\n}\r\ndiv#object {\r\n  position: relative;\r\n  box-sizing: border-box;\r\n  border: 5px solid red;\r\n  width: 100px;\r\n  height: 100px;\r\n}\r\n#timeline {\r\n  display: grid;\r\n  grid-template-columns: 100px auto;\r\n  max-width: 100%;\r\n  // overflow: hidden;\r\n  div:nth-child(1) > div {\r\n    display: flex;\r\n    justify-content: flex-end;\r\n    align-items: center;\r\n    margin-right: 6px;\r\n    font-size: 17px;\r\n    height: 20px;\r\n  }\r\n}\r\n.handleControls {\r\n  display: grid;\r\n  grid-template:\r\n    \"a b .\" 30px\r\n    \"c d e\" 30px\r\n    \"f g .\" auto / auto auto auto;\r\n  margin-bottom: 20px;\r\n  // input {\r\n  //   width: 100px;\r\n  // }\r\n  >label {\r\n    display: flex;\r\n    align-items: center;\r\n  }\r\n}\r\n.easingFunctions {\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  img {\r\n    cursor: pointer;\r\n    padding: 2px;\r\n  }\r\n  .selectedEasing {\r\n    background: #379531;\r\n  }\r\n}\r\n</style>\r\n","import script from \"./App.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./App.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=02eccca2&lang=scss\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { createApp } from \"vue\";\nimport App from \"./App.vue\";\n\ncreateApp(App).mount(\"#app\");\n","var map = {\n\t\"./easeIn.png\": 4476,\n\t\"./easeInOut.png\": 5728,\n\t\"./easeOut.png\": 2515,\n\t\"./none.png\": 9646\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 2715;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t143: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkvue_3\"] = self[\"webpackChunkvue_3\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [998], function() { return __webpack_require__(1921); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["clamp","value","min","max","Math","easingFunctions","none","displayName","func","t","easeIn","easeOut","easeInOut","pow","Handle","constructor","easingFunction","this","width","ref","draggingHandle","timeline","handles","reactive","props","defaultValue","getT","mouseX","bbox","getBoundingClientRect","x","left","handleWidth","right","mouseMove","ev","clientX","sort","a","b","emit","mouseUp","addHandle","newHandle","push","doubleClicked","handleMouseDown","handle","removeHandle","splice","indexOf","__expose","onMounted","updateWidth","window","addEventListener","__exports__","directions","Object","freeze","top","bottom","translateX","translateY","rotate","style","computed","position","y","scaleX","height","scaleY","transform","rotation","origin","startPos","startValue","box","draggingDirection","startDrag","direction","clientY","lookup","prop","scaleFuncs","center","translateFuncs","transport","draggingPlayHead","mouseDown","saveData","data","localStorage","setItem","JSON","stringify","loadData","parse","getItem","duration","animationProperties","defaultValues","timelines","selectedHandle","selectedProp","playing","currentTime","object","handle1","handle2","i","length","nextHandle","lerp","firstTimeline","selectedHandleT","get","toFixed","set","selectedHandleValue","lastTime","Date","now","animationFrame","start","end","advanceTime","dt","stop","requestAnimationFrame","play","pause","cancelAnimationFrame","saveDataClick","out","forEach","console","log","loadDataClick","exportClick","getValueAt","t2","join","handleSelected","handleChanged","boxChanged","closestHandle","dist","Infinity","abs","document","querySelector","createApp","App","mount","map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","resolve","module","exports","__webpack_module_cache__","moduleId","cachedModule","undefined","__webpack_modules__","call","m","deferred","O","result","chunkIds","fn","priority","notFulfilled","fulfilled","j","every","key","r","d","definition","defineProperty","enumerable","g","globalThis","Function","obj","prototype","hasOwnProperty","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","self","bind","__webpack_exports__"],"sourceRoot":""}